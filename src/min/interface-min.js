$(document).ready(function(){function e(){$("#temperature").text(n.temperature),$("#temperature").attr("class",n.energyUsage())}function t(e){var t="http://api.openweathermap.org/data/2.5/weather?q="+e,n="&appid=41cac2ef918088f0ba8a71418229075a",r="&units=metric";$.get(t+n+r,function(e){$("#current-temperature").text(e.main.temp)})}var n=new Thermostat;$("#temperature").text(n.temperature),$("#temp-up").on("click",function(){n.upTemp(),e()}),$("#temp-down").on("click",function(){n.downTemp(),e()}),$("#temp-reset").on("click",function(){n.resetTemperature(),e()}),$("#powersaving-on").click(function(){n.switchPowerSavingModeOn(),$("#power-saving-status").text("on"),e()}),$("#powersaving-off").click(function(){n.switchPowerSavingModeOff(),$("#power-saving-status").text("off"),e()}),t("London"),$("#current-city").change(function(e){e.preventDefault();var n=$("#current-city").val();t(n)})});